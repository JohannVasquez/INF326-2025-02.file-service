# =============================================================================
# SERVICIO DE ARCHIVOS - CONFIGURACIÓN DE DESARROLLO
# =============================================================================

# -----------------------------------------------------------------------------
# Configuración de Archivos
# -----------------------------------------------------------------------------
FILES_MAX_BYTES=10485760
FILES_ALLOWED_MIME=image/png,image/jpeg,image/gif,image/webp,application/pdf,text/plain,text/markdown,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# Cuotas por usuario (bytes)
FILES_USER_QUOTA_BYTES=104857600

# -----------------------------------------------------------------------------
# Base de Datos
# -----------------------------------------------------------------------------
DB_URL=postgresql+asyncpg://files_user:files_pass@localhost:5432/files_db
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# -----------------------------------------------------------------------------
# Almacenamiento
# -----------------------------------------------------------------------------
# Opciones: 's3' o 'local'
STORAGE_KIND=s3

# Para almacenamiento local
LOCAL_BASE_PATH=/data/files

# Para almacenamiento S3/MinIO
S3_ENDPOINT_URL=http://localhost:9000
S3_REGION=us-east-1
S3_BUCKET=chat-files
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minio123
S3_USE_SSL=false

# URLs prefirmadas (segundos)
S3_PRESIGNED_URL_EXPIRY=3600

# -----------------------------------------------------------------------------
# Seguridad
# -----------------------------------------------------------------------------
# Clave pública para validar JWTs (formato PEM)
JWT_PUBLIC_KEY_PEM=-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA4qiXJvQGqGdOgXXrTW+9
wKiNovXEKYkhI77OIJ8YP1FlJ9TdDGfYVK9G7Qj8XrSGa3TLHlM6QkKz5EgHRDcN
s0S7Q9Mz4XqxBUjdKZOLMOo+KOX1EQb5F3VoKZYE7yKK0qG5b8hG0NxT7bYbWfPt
pFgZT5nQXGgLVKl7R9YOhLf8YRj5WaE2qnG2m5YKV7XGP3qM2LO5V5gG6EKcYN4O
-----END PUBLIC KEY-----

# Algoritmo JWT
JWT_ALGORITHM=RS256

# -----------------------------------------------------------------------------
# Mensajería/Eventos
# -----------------------------------------------------------------------------
# Opciones: 'redis', 'noop'
EVENTS_BROKER_KIND=noop

# Para broker Redis
REDIS_URL=redis://localhost:6379/0
EVENTS_STREAM_NAME=files_events
EVENTS_CONSUMER_GROUP=filesvc_group

# -----------------------------------------------------------------------------
# Observabilidad
# -----------------------------------------------------------------------------
# Nivel de logging: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Formato de logs: 'json' o 'text'
LOG_FORMAT=json

# Métricas Prometheus
ENABLE_METRICS=false
METRICS_PORT=9090

# -----------------------------------------------------------------------------
# API
# -----------------------------------------------------------------------------
# Configuración del servidor
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true

# Rate limiting (requests per minute)
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# -----------------------------------------------------------------------------
# Desarrollo
# -----------------------------------------------------------------------------
# Modo debug
DEBUG=true

# Auto-reload en desarrollo  
AUTO_RELOAD=true

# Mostrar documentación automática
SHOW_DOCS=true